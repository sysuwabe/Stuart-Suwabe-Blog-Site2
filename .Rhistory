select(-c(1,4,9,17))
library(caret)
set.seed(504)
m1 <- train(insecure_percen ~ .,
data = foodincaPercen,
method = "lm",
trControl = trainControl(number = 1),
preProcess = c("BoxCox", "center", "scale"))
summary(m1)
library(modelr)
rmse(m1, foodincaPercen)
set.seed(504)
m2 <- train(insecure_num ~ .,
data = foodincaNum,
method = "lm",
trControl = trainControl(number = 1),
preProcess = c("BoxCox", "center", "scale"))
summary(m2)
library(modelr)
rmse(m2, foodincaNum)
library(tidyverse)
library(tidycensus)
library(readxl)
library(caret)
library(caret)
set.seed(504)
m1 <- train(insecure_percen ~ .,
data = foodincaPercen,
method = "lm",
trControl = trainControl(number = 1),
preProcess = c("BoxCox", "center", "scale"))
summary(m1)
library(modelr)
rmse(m1, foodincaPercen)
set.seed(504)
m2 <- train(insecure_num ~ .,
data = foodincaNum,
method = "lm",
trControl = trainControl(number = 1),
preProcess = c("BoxCox", "center", "scale"))
summary(m2)
library(modelr)
rmse(m2, foodincaNum)
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::insert_image_addin()
plot(SCfoodin$insecure_percen)
blogdown:::insert_image_addin()
View(SCfoodin$year)
View(SCfoodin
View(SCfoodin)
View(SCfoodin)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(tidyverse)
x19 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2021_2019Data_ToShare.xlsx", sheet = "2019 County")
x19 <- x19 %>% rename(insecure_percen = `2019 Food Insecurity Rate`)
x18 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2020_2018Data_ToShare.xlsx", sheet = "2018 County")
names(x18) <- x18 %>% slice(1) %>% unlist()
x18 <- x18 %>% slice(-1)
x18 <- x18 %>% rename(insecure_percen = `2018 Food Insecurity Rate`)
x17 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2019_2017Data_ToShare.xlsx", sheet = "2017 County")
x17 <- x17 %>% rename(insecure_percen = `2017 Food Insecurity Rate`)
x16 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2018_2016Data_ToShare.xlsx", sheet = "2016 County")
x16 <- x16 %>% rename(insecure_percen = `2016 Food Insecurity Rate`)
x15 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2017_2015Data_ToShare.xlsx", sheet = "2015 County")
x15 <- x15 %>% rename(insecure_percen = `2015 Food Insecurity Rate`)
x14 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2016_2014Data_ToShare.xlsx", sheet = "2014 County")
x14 <- x14 %>% rename(insecure_percen = `2014 Food Insecurity Rate`)
x13 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2015_2013Data_ToShare.xlsx", sheet = "2013 County")
x13 <- x13 %>% rename(insecure_percen = `2013 Food Insecurity Rate`)
x12 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2014_2012Data_ToShare.xlsx", sheet = "2012 County")
x12 <- x12 %>% rename(insecure_percen = `2012 Food Insecurity Rate`)
x11 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2013_2011Data_ToShare.xlsx", sheet = "2011 County")
x11 <- x11 %>% rename(insecure_percen = `2011 Food Insecurity Rate`)
x10 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2012_2010Data_ToShare.xlsx", sheet = "County")
x10 <- x10 %>% rename(insecure_percen = `2010 Food Insecurity Rate`)
View(x10)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(tidyverse)
x19 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2021_2019Data_ToShare.xlsx", sheet = "2019 County")
x19 <- x19 %>% rename(insecure_percen = `2019 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x18 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2020_2018Data_ToShare.xlsx", sheet = "2018 County")
names(x18) <- x18 %>% slice(1) %>% unlist()
x18 <- x18 %>% slice(-1)
x18 <- x18 %>% rename(insecure_percen = `2018 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x17 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2019_2017Data_ToShare.xlsx", sheet = "2017 County")
x17 <- x17 %>% rename(insecure_percen = `2017 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x16 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2018_2016Data_ToShare.xlsx", sheet = "2016 County")
x16 <- x16 %>% rename(insecure_percen = `2016 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x15 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2017_2015Data_ToShare.xlsx", sheet = "2015 County")
x15 <- x15 %>% rename(insecure_percen = `2015 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x14 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2016_2014Data_ToShare.xlsx", sheet = "2014 County")
x14 <- x14 %>% rename(insecure_percen = `2014 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x13 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2015_2013Data_ToShare.xlsx", sheet = "2013 County")
x13 <- x13 %>% rename(insecure_percen = `2013 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x12 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2014_2012Data_ToShare.xlsx", sheet = "2012 County")
x12 <- x12 %>% rename(insecure_percen = `2012 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x11 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2013_2011Data_ToShare.xlsx", sheet = "2011 County")
x11 <- x11 %>% rename(insecure_percen = `2011 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x10 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2012_2010Data_ToShare.xlsx", sheet = "County")
x10 <- x10 %>% rename(insecure_percen = `2010 Food Insecurity Rate`) %>% select(-c(5,13:14,17:18))
x19 <- filter(State == "CA")
x19 <- x19 %>% filter(State == "CA")
x19a <- x19 %>% filter(`County, State` == "Sacramento County, California")
x19b <- x19 %>% filter(`County, State` == "Sutter County, California")
x19c <- x19 %>% filter(`County, State` == "Los Angeles County, California")
x18 <- x18 %>% filter(State == "CA")
x18a <- x18 %>% filter(`County, State` == "Sacramento County, California")
x18b <- x18 %>% filter(`County, State` == "Sutter County, California")
x18c <- x18 %>% filter(`County, State` == "Los Angeles County, California")
x17 <- x17 %>% filter(State == "CA")
x17a <- x17 %>% filter(`County, State` == "Sacramento County, California")
x17b <- x17 %>% filter(`County, State` == "Sutter County, California")
x17c <- x17 %>% filter(`County, State` == "Los Angeles County, California")
x16 <- x16 %>% filter(State == "CA")
x16a <- x16 %>% filter(`County, State` == "Sacramento County, California")
x16b <- x16 %>% filter(`County, State` == "Sutter County, California")
x16c <- x16 %>% filter(`County, State` == "Los Angeles County, California")
x15 <- x15 %>% filter(State == "CA")
x15a <- x15 %>% filter(`County, State` == "Sacramento County, California")
x15b <- x15 %>% filter(`County, State` == "Sutter County, California")
x15c <- x15 %>% filter(`County, State` == "Los Angeles County, California")
x14 <- x14 %>% filter(State == "CA")
x14a <- x14 %>% filter(`County, State` == "Sacramento County, California")
x14b <- x14 %>% filter(`County, State` == "Sutter County, California")
x14c <- x14 %>% filter(`County, State` == "Los Angeles County, California")
x13 <- x13 %>% filter(State == "CA")
x13a <- x13 %>% filter(`County, State` == "Sacramento County, California")
x13b <- x13 %>% filter(`County, State` == "Sutter County, California")
x13c <- x13 %>% filter(`County, State` == "Los Angeles County, California")
x12 <- x12 %>% filter(State == "CA")
x12a <- x12 %>% filter(`County, State` == "Sacramento County, California")
x12b <- x12 %>% filter(`County, State` == "Sutter County, California")
x12c <- x12 %>% filter(`County, State` == "Los Angeles County, California")
x11 <- x11 %>% filter(State == "CA")
x11a <- x11 %>% filter(`County, State` == "Sacramento County, California")
x11b <- x11 %>% filter(`County, State` == "Sutter County, California")
x11c <- x11 %>% filter(`County, State` == "Los Angeles County, California")
x10 <- x10 %>% filter(State == "CA")
x10a <- x10 %>% filter(`County, State` == "Sacramento County, California")
x10b <- x10 %>% filter(`County, State` == "Sutter County, California")
x10c <- x10 %>% filter(`County, State` == "Los Angeles County, California")
SCfoodin <- rbind(x10a, x11a, x12a, x13a, x14a, x15a, x16a, x17a, x18a, x19a)
View(x11)
View(x18)
View(x17)
View(x16)
View(x12)
View(x13)
View(x14)
View(x15)
View(x19)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(tidyverse)
x19 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2021_2019Data_ToShare.xlsx", sheet = "2019 County")
x19 <- x19 %>% rename(insecure_percen = `2019 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2019`, secure_meal_value = `2019 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2019 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x18 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2020_2018Data_ToShare.xlsx", sheet = "2018 County")
names(x18) <- x18 %>% slice(1) %>% unlist()
x18 <- x18 %>% slice(-1)
x18 <- x18 %>% rename(insecure_percen = `2018 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2018`, secure_meal_value = `2018 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2018 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x17 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2019_2017Data_ToShare.xlsx", sheet = "2017 County")
x17 <- x17 %>% rename(insecure_percen = `2017 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2017`, secure_meal_value = `2017 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2017 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x16 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2018_2016Data_ToShare.xlsx", sheet = "2016 County")
x16 <- x16 %>% rename(insecure_percen = `2016 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2016`, secure_meal_value = `2016 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2016 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x15 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2017_2015Data_ToShare.xlsx", sheet = "2015 County")
x15 <- x15 %>% rename(insecure_percen = `2015 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2015`, secure_meal_value = `2015 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2015 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x14 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2016_2014Data_ToShare.xlsx", sheet = "2014 County")
x14 <- x14 %>% rename(insecure_percen = `2014 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2014`, secure_meal_value = `2014 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2014 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x13 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2015_2013Data_ToShare.xlsx", sheet = "2013 County")
x13 <- x13 %>% rename(insecure_percen = `2013 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2013`, secure_meal_value = `2013 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2013 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x12 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2014_2012Data_ToShare.xlsx", sheet = "2012 County")
x12 <- x12 %>% rename(insecure_percen = `2012 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2012`, secure_meal_value = `2012 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2012 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x11 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2013_2011Data_ToShare.xlsx", sheet = "2011 County")
x11 <- x11 %>% rename(insecure_percen = `2011 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL`, secure_meal_value = `2011 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2011 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(tidyverse)
x19 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2021_2019Data_ToShare.xlsx", sheet = "2019 County")
x19 <- x19 %>% rename(insecure_percen = `2019 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2019`, secure_meal_value = `2019 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2019 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x18 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2020_2018Data_ToShare.xlsx", sheet = "2018 County")
names(x18) <- x18 %>% slice(1) %>% unlist()
x18 <- x18 %>% slice(-1)
x18 <- x18 %>% rename(insecure_percen = `2018 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2018`, secure_meal_value = `2018 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2018 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x17 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2019_2017Data_ToShare.xlsx", sheet = "2017 County")
x17 <- x17 %>% rename(insecure_percen = `2017 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2017`, secure_meal_value = `2017 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2017 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x16 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2018_2016Data_ToShare.xlsx", sheet = "2016 County")
x16 <- x16 %>% rename(insecure_percen = `2016 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2016`, secure_meal_value = `2016 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2016 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x15 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2017_2015Data_ToShare.xlsx", sheet = "2015 County")
x15 <- x15 %>% rename(insecure_percen = `2015 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2015`, secure_meal_value = `2015 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2015 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x14 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2016_2014Data_ToShare.xlsx", sheet = "2014 County")
x14 <- x14 %>% rename(insecure_percen = `2014 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2014`, secure_meal_value = `2014 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2014 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x13 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2015_2013Data_ToShare.xlsx", sheet = "2013 County")
x13 <- x13 %>% rename(insecure_percen = `2013 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2013`, secure_meal_value = `2013 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2013 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x12 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2014_2012Data_ToShare.xlsx", sheet = "2012 County")
x12 <- x12 %>% rename(insecure_percen = `2012 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2012`, secure_meal_value = `2012 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2012 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x11 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2013_2011Data_ToShare.xlsx", sheet = "2011 County")
x11 <- x11 %>% rename(insecure_percen = `2011 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL`, secure_meal_value = `Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2011 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(tidyverse)
x19 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2021_2019Data_ToShare.xlsx", sheet = "2019 County")
x19 <- x19 %>% rename(insecure_percen = `2019 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2019`, secure_meal_value = `2019 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2019 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x18 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2020_2018Data_ToShare.xlsx", sheet = "2018 County")
names(x18) <- x18 %>% slice(1) %>% unlist()
x18 <- x18 %>% slice(-1)
x18 <- x18 %>% rename(insecure_percen = `2018 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2018`, secure_meal_value = `2018 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2018 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x17 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2019_2017Data_ToShare.xlsx", sheet = "2017 County")
x17 <- x17 %>% rename(insecure_percen = `2017 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2017`, secure_meal_value = `2017 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2017 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x16 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2018_2016Data_ToShare.xlsx", sheet = "2016 County")
x16 <- x16 %>% rename(insecure_percen = `2016 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2016`, secure_meal_value = `2016 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2016 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x15 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2017_2015Data_ToShare.xlsx", sheet = "2015 County")
x15 <- x15 %>% rename(insecure_percen = `2015 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2015`, secure_meal_value = `2015 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2015 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x14 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2016_2014Data_ToShare.xlsx", sheet = "2014 County")
x14 <- x14 %>% rename(insecure_percen = `2014 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2014`, secure_meal_value = `2014 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2014 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x13 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2015_2013Data_ToShare.xlsx", sheet = "2013 County")
x13 <- x13 %>% rename(insecure_percen = `2013 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2013`, secure_meal_value = `2013 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2013 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x12 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2014_2012Data_ToShare.xlsx", sheet = "2012 County")
x12 <- x12 %>% rename(insecure_percen = `2012 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL in 2012`, secure_meal_value = `2012 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2012 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x11 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2013_2011Data_ToShare.xlsx", sheet = "2011 County")
x11 <- x11 %>% rename(insecure_percen = `2011 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL`, secure_meal_value = `Cost Per Meal`) %>% select(-c(5,13:14,16))
x10 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2012_2010Data_ToShare.xlsx", sheet = "County")
x10 <- x10 %>% rename(insecure_percen = `2010 Food Insecurity Rate`, `percent of food insecure children below poverty threshold` = `% food insecure children in HH w/ HH incomes below 185 FPL`, secure_meal_value = `2010 Cost Per Meal`, `Weighted Annual Food Budget Shortfall` = `2010 Weighted Annual Food Budget Shortfall`) %>% select(-c(5,13:14,16))
x19 <- x19 %>% filter(State == "CA")
x19a <- x19 %>% filter(`County, State` == "Sacramento County, California")
x19b <- x19 %>% filter(`County, State` == "Sutter County, California")
x19c <- x19 %>% filter(`County, State` == "Los Angeles County, California")
x18 <- x18 %>% filter(State == "CA")
x18a <- x18 %>% filter(`County, State` == "Sacramento County, California")
x18b <- x18 %>% filter(`County, State` == "Sutter County, California")
x18c <- x18 %>% filter(`County, State` == "Los Angeles County, California")
x17 <- x17 %>% filter(State == "CA")
x17a <- x17 %>% filter(`County, State` == "Sacramento County, California")
x17b <- x17 %>% filter(`County, State` == "Sutter County, California")
x17c <- x17 %>% filter(`County, State` == "Los Angeles County, California")
x16 <- x16 %>% filter(State == "CA")
x16a <- x16 %>% filter(`County, State` == "Sacramento County, California")
x16b <- x16 %>% filter(`County, State` == "Sutter County, California")
x16c <- x16 %>% filter(`County, State` == "Los Angeles County, California")
x15 <- x15 %>% filter(State == "CA")
x15a <- x15 %>% filter(`County, State` == "Sacramento County, California")
x15b <- x15 %>% filter(`County, State` == "Sutter County, California")
x15c <- x15 %>% filter(`County, State` == "Los Angeles County, California")
x14 <- x14 %>% filter(State == "CA")
x14a <- x14 %>% filter(`County, State` == "Sacramento County, California")
x14b <- x14 %>% filter(`County, State` == "Sutter County, California")
x14c <- x14 %>% filter(`County, State` == "Los Angeles County, California")
x13 <- x13 %>% filter(State == "CA")
x13a <- x13 %>% filter(`County, State` == "Sacramento County, California")
x13b <- x13 %>% filter(`County, State` == "Sutter County, California")
x13c <- x13 %>% filter(`County, State` == "Los Angeles County, California")
x12 <- x12 %>% filter(State == "CA")
x12a <- x12 %>% filter(`County, State` == "Sacramento County, California")
x12b <- x12 %>% filter(`County, State` == "Sutter County, California")
x12c <- x12 %>% filter(`County, State` == "Los Angeles County, California")
x11 <- x11 %>% filter(State == "CA")
x11a <- x11 %>% filter(`County, State` == "Sacramento County, California")
x11b <- x11 %>% filter(`County, State` == "Sutter County, California")
x11c <- x11 %>% filter(`County, State` == "Los Angeles County, California")
x10 <- x10 %>% filter(State == "CA")
x10a <- x10 %>% filter(`County, State` == "Sacramento County, California")
x10b <- x10 %>% filter(`County, State` == "Sutter County, California")
x10c <- x10 %>% filter(`County, State` == "Los Angeles County, California")
SCfoodin <- rbind(x10a, x11a, x12a, x13a, x14a, x15a, x16a, x17a, x18a, x19a)
STfoodin <- rbind(x10b, x11b, x12b, x13b, x14b, x15b, x16b, x17b, x18b, x19b)
LAfoodin <- rbind(x10c, x11c, x12c, x13c, x14c, x15c, x16c, x17c, x18c, x19c)
SCfoodin$year <- c(2010,2011,2012,2013,2014,20152016,2017,2018,2019)
x19 <- x19 %>% filter(State == "CA")
x19a <- x19 %>% filter(`County, State` == "Sacramento County, California")
x19b <- x19 %>% filter(`County, State` == "Sutter County, California")
x19c <- x19 %>% filter(`County, State` == "Los Angeles County, California")
x18 <- x18 %>% filter(State == "CA")
x18a <- x18 %>% filter(`County, State` == "Sacramento County, California")
x18b <- x18 %>% filter(`County, State` == "Sutter County, California")
x18c <- x18 %>% filter(`County, State` == "Los Angeles County, California")
x17 <- x17 %>% filter(State == "CA")
x17a <- x17 %>% filter(`County, State` == "Sacramento County, California")
x17b <- x17 %>% filter(`County, State` == "Sutter County, California")
x17c <- x17 %>% filter(`County, State` == "Los Angeles County, California")
x16 <- x16 %>% filter(State == "CA")
x16a <- x16 %>% filter(`County, State` == "Sacramento County, California")
x16b <- x16 %>% filter(`County, State` == "Sutter County, California")
x16c <- x16 %>% filter(`County, State` == "Los Angeles County, California")
x15 <- x15 %>% filter(State == "CA")
x15a <- x15 %>% filter(`County, State` == "Sacramento County, California")
x15b <- x15 %>% filter(`County, State` == "Sutter County, California")
x15c <- x15 %>% filter(`County, State` == "Los Angeles County, California")
x14 <- x14 %>% filter(State == "CA")
x14a <- x14 %>% filter(`County, State` == "Sacramento County, California")
x14b <- x14 %>% filter(`County, State` == "Sutter County, California")
x14c <- x14 %>% filter(`County, State` == "Los Angeles County, California")
x13 <- x13 %>% filter(State == "CA")
x13a <- x13 %>% filter(`County, State` == "Sacramento County, California")
x13b <- x13 %>% filter(`County, State` == "Sutter County, California")
x13c <- x13 %>% filter(`County, State` == "Los Angeles County, California")
x12 <- x12 %>% filter(State == "CA")
x12a <- x12 %>% filter(`County, State` == "Sacramento County, California")
x12b <- x12 %>% filter(`County, State` == "Sutter County, California")
x12c <- x12 %>% filter(`County, State` == "Los Angeles County, California")
x11 <- x11 %>% filter(State == "CA")
x11a <- x11 %>% filter(`County, State` == "Sacramento County, California")
x11b <- x11 %>% filter(`County, State` == "Sutter County, California")
x11c <- x11 %>% filter(`County, State` == "Los Angeles County, California")
x10 <- x10 %>% filter(State == "CA")
x10a <- x10 %>% filter(`County, State` == "Sacramento County, California")
x10b <- x10 %>% filter(`County, State` == "Sutter County, California")
x10c <- x10 %>% filter(`County, State` == "Los Angeles County, California")
SCfoodin <- rbind(x10a, x11a, x12a, x13a, x14a, x15a, x16a, x17a, x18a, x19a)
STfoodin <- rbind(x10b, x11b, x12b, x13b, x14b, x15b, x16b, x17b, x18b, x19b)
LAfoodin <- rbind(x10c, x11c, x12c, x13c, x14c, x15c, x16c, x17c, x18c, x19c)
SCfoodin$year <- c(2010,2011,2012,2013,2014,2015, 2016,2017,2018,2019)
STfoodin$year <- c(2010,2011,2012,2013,2014,2015, 2016,2017,2018,2019)
LAfoodin$year <- c(2010,2011,2012,2013,2014,2015, 2016,2017,2018,2019)
View(SCfoodin)
SCfoodin %>% ggplot(aes(year,insecure_percen)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Sacramento County") + xlab("year over time") + ylab("food insecurity percentage")
plot(STfoodin$insecure_percen) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Sutter County") + xlab("year over time") + ylab("food insecurity percentage")
STfoodin %>% ggplot(aes(year,insecure_percen)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Sutter County") + xlab("year over time") + ylab("food insecurity percentage")
LAfoodin %>% ggplot(aes(year,insecure_percen)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Los Angeles County") + xlab("year over time") + ylab("food insecurity percentage")
SCfoodin %>% ggplot(aes(year,insecure_percen)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Sacramento County") + xlab("year over time") + ylab("food insecurity percentage")
blogdown:::insert_image_addin()
x19 <- x19 %>% filter(State == "CA")
x19a <- x19 %>% filter(`County, State` == "Sacramento County, California")
x19b <- x19 %>% filter(`County, State` == "Yuba County, California")
x19c <- x19 %>% filter(`County, State` == "Los Angeles County, California")
x18 <- x18 %>% filter(State == "CA")
x18a <- x18 %>% filter(`County, State` == "Sacramento County, California")
x18b <- x18 %>% filter(`County, State` == "Yuba County, California")
x18c <- x18 %>% filter(`County, State` == "Los Angeles County, California")
x17 <- x17 %>% filter(State == "CA")
x17a <- x17 %>% filter(`County, State` == "Sacramento County, California")
x17b <- x17 %>% filter(`County, State` == "Yuba County, California")
x17c <- x17 %>% filter(`County, State` == "Los Angeles County, California")
x16 <- x16 %>% filter(State == "CA")
x16a <- x16 %>% filter(`County, State` == "Sacramento County, California")
x16b <- x16 %>% filter(`County, State` == "Yuba County, California")
x16c <- x16 %>% filter(`County, State` == "Los Angeles County, California")
x15 <- x15 %>% filter(State == "CA")
x15a <- x15 %>% filter(`County, State` == "Sacramento County, California")
x15b <- x15 %>% filter(`County, State` == "Yuba County, California")
x15c <- x15 %>% filter(`County, State` == "Los Angeles County, California")
x14 <- x14 %>% filter(State == "CA")
x14a <- x14 %>% filter(`County, State` == "Sacramento County, California")
x14b <- x14 %>% filter(`County, State` == "Yuba County, California")
x14c <- x14 %>% filter(`County, State` == "Los Angeles County, California")
x13 <- x13 %>% filter(State == "CA")
x13a <- x13 %>% filter(`County, State` == "Sacramento County, California")
x13b <- x13 %>% filter(`County, State` == "Yuba County, California")
x13c <- x13 %>% filter(`County, State` == "Los Angeles County, California")
x12 <- x12 %>% filter(State == "CA")
x12a <- x12 %>% filter(`County, State` == "Sacramento County, California")
x12b <- x12 %>% filter(`County, State` == "Yuba County, California")
x12c <- x12 %>% filter(`County, State` == "Los Angeles County, California")
x11 <- x11 %>% filter(State == "CA")
x11a <- x11 %>% filter(`County, State` == "Sacramento County, California")
x11b <- x11 %>% filter(`County, State` == "Yuba County, California")
x11c <- x11 %>% filter(`County, State` == "Los Angeles County, California")
x10 <- x10 %>% filter(State == "CA")
x10a <- x10 %>% filter(`County, State` == "Sacramento County, California")
x10b <- x10 %>% filter(`County, State` == "Yuba County, California")
x10c <- x10 %>% filter(`County, State` == "Los Angeles County, California")
SCfoodin <- rbind(x10a, x11a, x12a, x13a, x14a, x15a, x16a, x17a, x18a, x19a)
STfoodin <- rbind(x10b, x11b, x12b, x13b, x14b, x15b, x16b, x17b, x18b, x19b)
LAfoodin <- rbind(x10c, x11c, x12c, x13c, x14c, x15c, x16c, x17c, x18c, x19c)
SCfoodin$year <- c(2010,2011,2012,2013,2014,2015, 2016,2017,2018,2019)
STfoodin$year <- c(2010,2011,2012,2013,2014,2015, 2016,2017,2018,2019)
LAfoodin$year <- c(2010,2011,2012,2013,2014,2015, 2016,2017,2018,2019)
SCfoodin %>% ggplot(aes(year,insecure_percen)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Sacramento County") + xlab("year over time") + ylab("food insecurity percentage")
STfoodin %>% ggplot(aes(year,insecure_percen)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Sutter County") + xlab("year over time") + ylab("food insecurity percentage")
LAfoodin %>% ggplot(aes(year,insecure_percen)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Los Angeles County") + xlab("year over time") + ylab("food insecurity percentage")
LAfoodin %>% ggplot(aes(year,`percent of food insecure children below poverty threshold`)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Los Angeles County") + xlab("year over time") + ylab("food insecurity percentage")
SCfoodin %>% ggplot(aes(year,`percent of food insecure children below poverty threshold`)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Los Angeles County") + xlab("year over time") + ylab("food insecurity percentage")
STfoodin %>% ggplot(aes(year,`percent of food insecure children below poverty threshold`)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Los Angeles County") + xlab("year over time") + ylab("food insecurity percentage")
LAfoodin %>% ggplot(aes(year,secure_meal_value)) + geom_point() + ggtitle("Food Insecurity Percentage Decreasing Over Time in Los Angeles County") + xlab("year over time") + ylab("food insecurity percentage")
SCfoodin %>% ggplot(aes(year,secure_meal_value)) + geom_point() + ggtitle("Price of a meal in Sacramento county increases over time") + xlab("year over time") + ylab("food insecurity percentage")
STfoodin %>% ggplot(aes(year,secure_meal_value)) + geom_point() + ggtitle("Price of a meal in Yuba county increases over time") + xlab("year over time") + ylab("food insecurity percentage")
STfoodin %>% ggplot(aes(year,`Weighted Annual Food Budget Shortfall`)) + geom_point() + ggtitle("Minimum food budget in Yuba county over time") + xlab("year over time") + ylab("food budget")
SCfoodin %>% ggplot(aes(year,`Weighted Annual Food Budget Shortfall`)) + geom_point() + ggtitle("Minimum food budget in Sacramento county over time") + xlab("year over time") + ylab("food budget")
LAfoodin %>% ggplot(aes(year,`Weighted Annual Food Budget Shortfall`)) + geom_point() + ggtitle("Minimum food budget in Los Angeles county over time") + xlab("year over time") + ylab("food budget")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidycensus)
library(readxl)
foodin19 <- read_excel("~/Downloads/Map the Meal Gap Data/MMG2021_2019Data_ToShare.xlsx", sheet = "2019 County")
foodin19a <- foodin19 %>% rename(county = `County, State`, insecure_percen = `2019 Food Insecurity Rate`, insecure_num = `# of Food Insecure Persons in 2019`, insecure_low_income = `% FI ≤ Low Threshold`, insecure_btwn_income = `% FI Btwn Thresholds`, insecure_high_income = `% FI > High Threshold`, insecure_child_percen = `2019 Child food insecurity rate`, insecure_child_num = `# of Food Insecure Children in 2019`, child_below_poverty_percen = `% food insecure children in HH w/ HH incomes below 185 FPL in 2019`, child_above_poverty_percen = `% food insecure children in HH w/ HH incomes above 185 FPL in 2019`, secure_meal_value = `2019 Cost Per Meal`)  %>% filter(State == "CA") %>% mutate(population = round(insecure_num / insecure_percen, digits = 0))
# census_api_key("41dcf38aad5e9257d3d377a226d8f5ce88274d23", install = TRUE)
PubTransBelPov <- get_acs(geography = "county", variables = "B08122_014", state = "CA", year = 2019)
# census_api_key("41dcf38aad5e9257d3d377a226d8f5ce88274d23", install = TRUE)
PubTransBelPov <- get_acs(geography = "county", variables = "B08122_014", state = "CA", year = 2019)
# census_api_key("41dcf38aad5e9257d3d377a226d8f5ce88274d23", install = TRUE)
PubTransBelPov <- get_acs(geography = "county", variables = "B08122_014", state = "CA", year = 2019)
View(foodinca)
View(foodincaPercen)
View(foodincaNum)
foodincaPercen %>% ggplot(aes(insecure_percen, pantry_num)) + geom_point()
foodincaPercen %>% ggplot(aes(insecure_percen, secure_meal_value)) + geom_point()
foodincaPercen %>% ggplot(aes(insecure_percen, `2019 Weighted Annual Food Budget Shortfall`)) + geom_point()
View(x19test7)
foodincaPercen %>% ggplot(aes(insecure_percen, PubTransPov)) + geom_point()
foodincaNum %>% ggplot(aes(insecure_num, PubTransPov)) + geom_point()
foodincaPercen %>% ggplot(aes(insecure_percen, EduHSBelow + EduHSGrad)) + geom_point()
foodincaNum %>% ggplot(aes(insecure_num, EduHSBelow + EduHSGrad)) + geom_point()
foodincaPercen1 <- foodincaPercen[-c(19)]
foodincaNum1 <- foodincaNum[-c(19)]
View(foodincaPercen1)
library(caret)
control <- trainControl(method = "boot", number = 5)
set.seed(504)
m1 <- train(insecure_percen ~ .,
data = foodincaPercen1,
method = "lm",
trControl = control,
preProcess = c("BoxCox", "center", "scale"))
summary(m1)
library(modelr)
rmse(m1, foodincaPercen)
set.seed(504)
m2 <- train(insecure_num ~ .,
data = foodincaNum1,
method = "lm",
trControl = trainControl(number = 1),
preProcess = c("BoxCox", "center", "scale"))
summary(m2)
library(modelr)
rmse(m2, foodincaNum)
percen_index <- createDataPartition(foodincaPercen1$insecure_percen, p = 0.7, list = FALSE)
percen_tr <- foodincaPercen1[ percen_index, ]
percen_te <- foodincaPercen1[-percen_index, ]
num_index <- createDataPartition(foodincaNum1$insecure_num, p = 0.7, list = FALSE)
num_tr <- foodincaNum1[ percen_index, ]
num_te <- foodincaNum1[-percen_index, ]
set.seed(504)
m1 <- train(insecure_percen ~ .,
data = percen_tr,
method = "lm",
trControl = control,
preProcess = c("BoxCox", "center", "scale"))
percen_pred <- predict(m1, percen_te)
postResample(pred = percen_pred, obs = percen_te$insecure_percen)
set.seed(504)
m2 <- train(insecure_num ~ .,
data = num_tr,
method = "lm",
trControl = trainControl(number = 1),
preProcess = c("BoxCox", "center", "scale"))
num_pred <- predict(m2, num_te)
postResample(pred = num_pred, obs = num_te$insecure_num)
set.seed(504)
m2 <- train(insecure_num ~ .,
data = num_tr,
method = "lm",
trControl = control,
preProcess = c("BoxCox", "center", "scale"))
num_pred <- predict(m2, num_te)
postResample(pred = num_pred, obs = num_te$insecure_num)
set.seed(504)
m2 <- train(insecure_num ~ .,
data = foodincaNum1,
method = "lm",
trControl = control,
preProcess = c("BoxCox", "center", "scale"))
summary(m2)
library(modelr)
rmse(m2, foodincaNum)
set.seed(504)
m3 <- train(insecure_percen ~ .,
data = percen_tr,
method = "lm",
trControl = control,
preProcess = c("BoxCox", "center", "scale"))
percen_pred <- predict(m1, percen_te)
postResample(pred = percen_pred, obs = percen_te$insecure_percen)
summary(m3)
set.seed(504)
m4 <- train(insecure_num ~ .,
data = num_tr,
method = "lm",
trControl = control,
preProcess = c("BoxCox", "center", "scale"))
num_pred <- predict(m2, num_te)
postResample(pred = num_pred, obs = num_te$insecure_num)
summary(m4)
set.seed(504)
m3 <- train(insecure_percen ~ .,
data = percen_tr,
method = "lm",
trControl = control,
preProcess = c("BoxCox", "center", "scale"))
percen_pred <- predict(m3, percen_te)
postResample(pred = percen_pred, obs = percen_te$insecure_percen)
summary(m3)
set.seed(504)
m4 <- train(insecure_num ~ .,
data = num_tr,
method = "lm",
trControl = control,
preProcess = c("BoxCox", "center", "scale"))
num_pred <- predict(m4, num_te)
postResample(pred = num_pred, obs = num_te$insecure_num)
summary(m4)
foodincaPercen %>% ggplot(aes(insecure_percen, secure_meal_value)) + geom_point() + ggtitle("the higher the meal cost, the lower the insecurity rate")
foodincaPercen %>% ggplot(aes(insecure_percen, secure_meal_value)) + geom_point() + ggtitle("the higher the meal cost, the lower the insecurity rate")
blogdown:::new_post_addin()
blogdown:::insert_image_addin()
foodincaPercen %>% ggplot(aes(insecure_percen, pantry_num)) + geom_point() + ggtitle("More food pantries mean a lower insecurity rate")
foodincaPercen %>% ggplot(aes(insecure_percen, pantry_num)) + geom_point() + ggtitle("More food pantries mean a lower insecurity rate")
blogdown:::insert_image_addin()
blogdown:::new_post_addin()
blogdown:::serve_site()
